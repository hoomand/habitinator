!function(t){function i(t){return t.indexOf("px")?t.substring(0,t.length-2):canvas_height.indexOf("%")?t.substring(0,t.length-1):void 0}function e(t){if(t.toString().indexOf("px")<-1&&t.toString().indexOf("%")<-1)return t+"px"}function n(t,i){return i<0?parseInt(t)/100*360*(Math.PI/180)-Math.PI/2:(parseInt(t)+parseInt(i))/100*360*(Math.PI/180)-Math.PI/2}function r(){t(".gmpc-percent-text").text(Math.round(h.percent)+"%")}function s(t){var e=i(h.height.toString()),s=i(h.width.toString()),o=document.createElement("canvas");o.height=e,o.width=s;var c=o.getContext("2d");c.strokeStyle=h.color,c.lineWidth=h.line_width,c.beginPath();var a=n(h.starting_position,-1),p=n(h.starting_position,h.percent),d=0,g=s/2,l=e/2;return d=e>=s?.9*s/2-2*h.line_width:.9*e/2-2*h.line_width,c.arc(g,l,d,a,p,h.counter_clockwise),c.stroke(),"percent"==h.text&&r(t),o}var h={},o={init:function(i){var n=t.extend({color:"#0B2546",height:"200px",width:"200px",line_width:8,starting_position:25,percent:100,counter_clockwise:!1,text:"percent",font_size:"28px",font_family:"Helvetica"},i);h=n;var r=t("<div class='gmpc-percent-text'></div>");return r.css({"font-size":h.font_size,"font-family":h.font_family}),"percent"!=h.text&&r.text(h.text),t(this).append(r),100!=h.starting_position&&(h.starting_position=h.starting_position%100),100!=h.ending_position&&(h.ending_position=h.ending_position%100),e(h.width),e(h.height),t(this).css({height:h.height,width:h.width}),t(this).addClass("gmpc"),t(this).find("canvas").remove(),t(this).append(s(t(this))),this},percent:function(i){return h.percent=i,t(this).css({height:h.height,width:h.width}),t(this).children("canvas").remove(),t(this).append(s(t(this))),this},animate:function(i,e){t(this).css({height:h.height,width:h.width});var n=e/10,r=(i-h.percent)/n,o=t(this),c=setInterval(function(){h.percent<i?(o.children("canvas").remove(),h.percent+=r,o.append(s(o))):clearInterval(c)},10);return this}};t.fn.gmpc=function(i){return o[i]?o[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist."):o.init.apply(this,arguments)}}(jQuery);